# T-032: Phone Provisioning Frontend

| Field | Value |
|-------|-------|
| **Status** | ðŸ”´ BLOCKED |
| **Round** | 3 |
| **Blocked By** | T-031 âœ… |
| **Effort** | 4-5 hours |
| **Assignee** | _____________ |

---

## Background

UI for provisioning a Twilio phone number during onboarding.

---

## Implementation

```tsx
export default function PhoneProvisioningStep() {
    const [availableNumbers, setAvailableNumbers] = useState([]);
    const [selectedNumber, setSelectedNumber] = useState(null);
    const [status, setStatus] = useState<'idle' | 'loading' | 'provisioned'>('idle');
    
    const searchNumbers = async (areaCode: string) => {
        const numbers = await fetch(`/api/twilio/available-numbers?areaCode=${areaCode}`).then(r => r.json());
        setAvailableNumbers(numbers);
    };
    
    const provisionNumber = async () => {
        setStatus('loading');
        await fetch('/api/twilio/provision', {
            method: 'POST',
            body: JSON.stringify({ phoneNumber: selectedNumber }),
        });
        setStatus('provisioned');
    };
    
    return (
        <div>
            <h2>Get Your Business Number</h2>
            <Input 
                label="Area Code" 
                placeholder="02"
                onChange={e => searchNumbers(e.target.value)}
            />
            
            {availableNumbers.map(num => (
                <NumberOption 
                    key={num.phoneNumber}
                    number={num}
                    selected={selectedNumber === num.phoneNumber}
                    onSelect={() => setSelectedNumber(num.phoneNumber)}
                />
            ))}
            
            <Button onClick={provisionNumber} disabled={!selectedNumber}>
                Get This Number
            </Button>
        </div>
    );
}
```

---

## Acceptance Criteria

- [ ] Area code search finds available numbers
- [ ] Number selection works
- [ ] Provisioning creates number and stores in DB
- [ ] Webhooks configured on new number

---

## Definition of Done

- [ ] Code reviewed
- [ ] End-to-end provisioning tested
- [ ] PR merged
